import{w as j}from"./with-props-Djoh9EVt.js";import{v as b,a as l,o as e,s as x}from"./chunk-AYJ5UCUI-6a0CsxBx.js";import{a as N}from"./api-B-7papqt.js";import{D as w}from"./DefaultLayout-w4AkJxnC.js";import{L}from"./Loading-BKoXs-71.js";import{S as y}from"./Sidebar-DKz6v4Vh.js";import{f as T}from"./formatDate-BqoJENqE.js";function k({}){return[{title:"Mammon's Blog | Tags"},{name:"description",content:"Security Researcher and Enthusiast. Iâ€™m fairly low profile, but share useful info from time to time. Red Team wannabe"}]}const v=()=>{const{hash:i}=b(),[o,d]=l.useState(""),[n,c]=l.useState([]),[m,r]=l.useState(!0),f=l.useRef(null);l.useEffect(()=>{const s=i.slice(1).toLowerCase().replace(/\s+/g,"-");d(s)},[i]),l.useEffect(()=>(N.get("/post").then(({data:s})=>{c(s.data.posts.reverse()),r(!1)}).catch(s=>{console.error("Error fetching posts:",s),r(!1)}),()=>{c([]),r(!0)}),[]);const h=l.useMemo(()=>{const s=n.flatMap(({tag:a})=>a).map(a=>a.toLowerCase().replace(/\s+/g,"-")),t={};for(const a of s)t[a]=(t[a]||0)+1;return Object.entries(t).sort((a,g)=>g[1]-a[1])},[n]),p=l.useMemo(()=>!o||n.length===0?[]:n.filter(s=>{var t;return(t=s.tag)==null?void 0:t.map(a=>a.toLowerCase().replace(/\s+/g,"-")).includes(o)}),[o,n]),u=s=>{const t=document.getElementById(s);t&&t.scrollIntoView({behavior:"smooth"})};return e.jsx(w,{children:e.jsxs("div",{className:"flex",children:[e.jsx(y,{}),m?e.jsx("div",{className:"mt-[22px] w-3/4 ml-[50px] mb-[50px] flex flex-col gap-2 pr-[200px]",children:e.jsx("h1",{className:"page-title text-[26px] font-bold",children:"Loading..."})}):e.jsxs("div",{className:"mt-[22px] w-3/4 ml-[50px] mb-[50px] pr-[200px]",children:[e.jsx("h2",{className:"page-title text-[26px] font-bold mb-[30px] underline",children:"Tags"}),e.jsx("ul",{className:"space-y-2 grid grid-cols-3 gap-x-[50px] gap-y-[10px] !list-none ml-[-48px]",children:h.map(([s,t])=>e.jsx("li",{className:"pb-1",onClick:()=>u(s),children:e.jsxs(x,{to:`/tags/#${s}`,className:"flex justify-between border-b-[1px] border-[#51555d]",children:[e.jsx("span",{className:"font-bold",children:s}),e.jsx("span",{className:"font-bold",children:t})]})},s))}),m?e.jsx(L,{lines:3}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{id:o,ref:f,className:"page-title text-[26px] font-bold mb-[30px] mt-[80px] underline",children:o.toUpperCase()}),e.jsx("ul",{className:"mt-8 flex flex-col gap-4 !list-none !pl-[32px]",children:p.length>0?p.map(s=>e.jsx("li",{className:"text-[18px] mb-2",children:e.jsxs(x,{to:`/post/${s._id}`,className:"flex flex-col gap-2",children:[e.jsx("h2",{className:"text-[#699da0] underline hover:text-[#4a7b8c] text-[26px] font-bold",children:s.title}),e.jsxs("div",{className:"text-[13px] flex items-center gap-1 opacity-70",children:[e.jsx("i",{className:"fa-solid fa-calendar-days"}),e.jsx("span",{children:T(s.createdAt)})]}),e.jsx("div",{className:"line-clamp-2 text-[16px]",dangerouslySetInnerHTML:{__html:s.content}})]})},s._id)):e.jsx("p",{children:"No posts found for this tag."})})]})]})]})})},D=j(v);export{D as default,k as meta};
