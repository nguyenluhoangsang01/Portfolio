import{w as N}from"./with-props-Djoh9EVt.js";import{o as e,a as o,s as p}from"./chunk-AYJ5UCUI-6a0CsxBx.js";import{D as y}from"./DefaultLayout-w4AkJxnC.js";import{L as f}from"./Loading-BKoXs-71.js";import{f as v}from"./formatDate-BqoJENqE.js";import{a as w}from"./api-B-7papqt.js";import{S as C}from"./Sidebar-DKz6v4Vh.js";const S=({currentPage:a,totalPages:n,onPageChange:l})=>{const i=[];for(let s=1;s<=n;s++)i.push(s);const r=s=>{s>=1&&s<=n&&l(s)};return e.jsxs("div",{className:"flex justify-center items-center space-x-1 mt-6",children:[e.jsx("button",{onClick:()=>r(a-1),disabled:a===1,className:"px-3 py-1 rounded border bg-gray-800 text-white hover:bg-gray-700 disabled:opacity-50",children:"Previous"}),i.map(s=>e.jsx("button",{onClick:()=>r(s),className:`px-3 py-1 rounded border ${s===a?"bg-cyan-500 text-white":"bg-gray-900 text-gray-300 hover:bg-gray-700"}`,children:s},s)),e.jsx("button",{onClick:()=>r(a+1),disabled:a===n,className:"px-3 py-1 rounded border bg-gray-800 text-white hover:bg-gray-700 disabled:opacity-50",children:"Next"})]})};function P(){const[a,n]=o.useState([]),[l,i]=o.useState(!0),[r,s]=o.useState(1),d=o.useRef(null),c=5,u=a.slice(3),x=(r-1)*c,b=x+c,m=u.slice(x,b),j=Math.ceil((a.length-3)/c);o.useEffect(()=>(w.get("/post").then(({data:t})=>{n(t.data.posts.reverse()),i(!1)}).catch(t=>{console.error("Error fetching posts:",t),i(!1)}),()=>{n([]),i(!0)}),[]);const g=t=>{var h;s(t),(h=d.current)==null||h.scrollIntoView({behavior:"smooth"})};return e.jsxs("div",{className:"mt-[22px] w-3/4 ml-[50px] mb-[50px] pr-[200px] format",children:[e.jsx("h1",{className:"page-title text-2xl mb-8",children:"ðŸ‘‹ Welcome to the site!"}),e.jsxs("div",{className:"mb-16",children:[e.jsx("b",{className:"text-[20px] border-b-2 border-[#51555d]",children:"Quick links to popular content can be found below:"}),e.jsx("ul",{className:"list-disc list-inside mt-8 ml-8",children:a&&!l?a.slice(0,3).map(t=>e.jsx("li",{className:"text-[18px] mb-2",children:e.jsx(p,{to:`/post/${t._id}`,className:"text-[#699da0] underline hover:text-[#4a7b8c]",children:t.title})},t._id)):e.jsx(f,{lines:3})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-[20px] border-b-2 border-[#51555d] font-bold",ref:d,children:"Recent posts:"}),e.jsx("ul",{className:"list-disc list-inside mt-8 ml-8 flex flex-col gap-4",children:m&&!l?m.map(t=>e.jsx("li",{className:"text-[18px] mb-2",children:e.jsxs(p,{to:`/post/${t._id}`,className:"flex flex-col gap-2",children:[e.jsx("h2",{className:"text-[#699da0] underline hover:text-[#4a7b8c] text-[26px] font-bold",children:t.title}),e.jsxs("div",{className:"text-[13px] flex items-center gap-1 opacity-70",children:[e.jsx("i",{className:"fa-solid fa-calendar-days"}),e.jsx("span",{children:v(t.createdAt)})]}),e.jsx("div",{className:"line-clamp-2 text-[16px]",dangerouslySetInnerHTML:{__html:t.content}})]})},t._id)):e.jsx(f,{lines:3})})]}),e.jsx(S,{currentPage:r,totalPages:j,onPageChange:g})]})}function _(){return e.jsx(y,{children:e.jsxs("div",{className:"flex",children:[e.jsx(C,{}),e.jsx(P,{})]})})}function I({}){return[{title:"Mammon's Blog | Home"},{name:"description",content:"Security Researcher and Enthusiast. Iâ€™m fairly low profile, but share useful info from time to time. Red Team wannabe"}]}const T=N(function(){return e.jsx(_,{})});export{T as default,I as meta};
